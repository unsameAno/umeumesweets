<!-- templates/login.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>로그인 | 우메우메스이츠</title>
  <link rel="stylesheet" th:href="@{/css/main.css}" />
  <script th:src="@{/js/main.js}" defer></script>
</head>
<body th:with="page='other'">
  <div th:replace="~{fragments/header :: header}"></div>

  <div class="container login-container">
    <h2>로그인</h2>

    <!-- 에러 메시지 표시 -->
    <div th:if="${loginError}" class="login-error">
      <p th:text="${loginError}">아이디 또는 비밀번호가 틀렸습니다.</p>
    </div>

    <!-- form은 하나만 사용 -->
    <form th:action="@{/login}" method="post">
      <input type="text" name="username" placeholder="아이디" required />
      <input type="password" name="password" placeholder="비밀번호" required />
      <button type="submit">로그인</button>
    </form>

    <div class="login-links">
      <a th:href="@{/register}">회원가입</a> |
      <a th:href="@{/find-id}">아이디 찾기</a> |
      <a th:href="@{/find-pw}">비밀번호 찾기</a>
    </div>
  </div>

  <script>
  console.log("JS inline test");
  const params = new URLSearchParams(window.location.search);
  const message = params.get("message");
  if (message === "login_required") {
    alert("리뷰 작성은 로그인 후 이용 가능합니다.");
  }
  </script>

</body>
</html>
