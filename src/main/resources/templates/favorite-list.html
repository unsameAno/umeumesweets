<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>찜한 디저트 목록</title>
  <link rel="stylesheet" th:href="@{/css/main.css}" />
</head>
<body>
  <div th:replace="~{fragments/index-header :: header}"></div>

  <section class="favorite-section">
    <div class="container">
      <h2>❤️ 찜한 디저트 목록</h2>

      <div class="dessert-grid-section">
        <div class="container dessert-grid">
          <div th:if="${#lists.isEmpty(favorites)}">
            <p>찜한 디저트가 없습니다 😢</p>
          </div>

          <div th:each="dessert : ${favorites}" class="dessert-card" th:attr="data-id=${dessert.id}">
            <div class="dessert-image-wrapper">
              <img th:src="${dessert.imageUrl}" alt="디저트 이미지" />
              <span class="heart-icon"
                    th:classappend="${dessert.liked} ? ' liked' : ''"
                    th:data-id="${dessert.id}">
                <span th:text="${dessert.liked} ? '❤️' : '🤍'">🤍</span>
              </span>
            </div>
            <h3 th:text="${dessert.name}">디저트 이름</h3>
            <p th:text="${dessert.shopName}">카페명</p>
            <p th:text="${dessert.price + '원'}">가격</p>
            <p class="rating" th:text="'⭐ ' + ${#numbers.formatDecimal(dessert.averageRating, 1, 1)}">⭐ 0.0</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script th:src="@{/js/main.js}" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>
</html>
